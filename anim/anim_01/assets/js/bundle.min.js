"use strict";
"use strict";!function(){function e(){i(1),o({selector:"canvas-O",type:"O",id:"O"}),o({selector:"canvas-H",type:"H",id:"H"}),n(),$(document).trigger("onContentLoaded")}function t(e,t){i(t.currentStep),t.currentStep>1?(c(),u()):(v(),m())}function i(e){l.attr({"data-step":e})}function o(e){var t=document.getElementById(e.selector),i=new createjs.Stage(t);i.width=t.width,i.height=t.height,i.type=e.type,i.id=e.id,d({image:"O",width:36,height:36,max:S,type:"H2O",stage:i}),a(i),f.push(i)}function n(){createjs.Ticker.setFPS(60),createjs.Ticker.addEventListener("tick",r)}function a(e){for(var t=e.H2O.length,i="assets/images/H.png",o=19,n=19,a="H",d=0;t>d;d++){for(var r=e.H2O[d],h=[],g=0;2>g;g++){var p=new createjs.Container,s=new createjs.Bitmap(i);p.regX=o/2,p.regY=n/2,p.width=o,p.height=n,p.type=a,0===g?(p.x=22,p.y=-2):(p.x=r.width+0,p.y=r.height/2-2),p.startX=p.x,p.startY=p.y,h.push(p),p.addChild(s),r.addChild(p)}r[a]=h}}function d(e){for(var t=(e.max,"assets/images/"+e.image+".png"),i=e.type,o=.5*e.width,n=.5*e.height,a=[],d=e.width,r=e.height,h=0;h<e.max;h++){var g=new createjs.Container,p=new createjs.Container,c=new createjs.Bitmap(t),m=[];p.type=e.image,g.regX=o,g.regY=n,g.width=d,g.height=r,g.x=parseInt(s(e.width,e.stage.width-e.width).toFixed(1)),g.y=parseInt(s(e.height,e.stage.height-e.height).toFixed(1)),g.startX=g.x,g.startY=g.y,g.boundWidth=o,g.boundHeight=n,g.rotationSpeed=parseFloat(s(-2,2).toFixed(2)),g.moveSpeedX=parseFloat(s(-2,2).toFixed(2)),g.moveSpeedY=parseFloat(s(-2,2).toFixed(2)),a.push(g),m.push(p),g[e.image]=m,p.addChild(c),g.addChild(p),e.stage.addChild(g)}e.stage[i]=a}function r(){for(var e=f.length,t=0;e>t;t++){var i=f[t],o=i.children.length;if(i.follow){for(var n=0;o>n;n++)n%2===0&&(h(i.getChildAt(n)),g(i.getChildAt(n),i.getChildAt(n+1)));i.update()}else{for(var a=0;o>a;a++)h(i.getChildAt(a));i.update()}}}function h(e){e.x+=e.moveSpeedX,e.y+=e.moveSpeedY,e.rotation+=e.rotationSpeed,(e.x>170-e.boundWidth||e.x<0+e.boundWidth)&&(e.moveSpeedX=-1*e.moveSpeedX,p(e)),(e.y>170-e.boundHeight||e.y<0+e.boundHeight)&&(e.moveSpeedY=-1*e.moveSpeedY,p(e))}function g(e,t){t.x+=(e.x+e.width/2+4-t.x)*w,t.y+=(e.y+e.height/2+4-t.y)*w,t.rotation=-1*e.rotation}function p(e){e.rotationSpeed=Math.random()>.5?e.rotationSpeed:-1*e.rotationSpeed}function s(e,t){return Math.random()*(t-e)+e}function c(){for(var e=void 0,t="O",i=0;i<f.length;i++)f[i].type===t&&(e=f[i],e.follow=!0);for(var o=e.H2O,n=o.length,a=0;n>a;a++)for(var d=o[a],r=d.H,h=0;h<r.length;h++)createjs.Tween.get(r[h],{override:!0}).to({alpha:0},y/10)}function m(){for(var e=void 0,t="O",i=0;i<f.length;i++)f[i].type===t&&(e=f[i],e.follow=null);for(var o=e.H2O,n=o.length,a=0;n>a;a++)for(var d=o[a],r=d.H,h=0;h<r.length;h++)createjs.Tween.get(r[h],{override:!0}).to({alpha:1},y/10)}function u(){for(var e=void 0,t="H",i=0;i<f.length;i++)f[i].type===t&&(e=f[i]);for(var o=e.H2O,n=o.length,a=0;n>a;a++){for(var d=o[a],r=d.O,h=0;h<r.length;h++)createjs.Tween.get(r[h],{override:!0}).to({alpha:0},y/10);var g=d[t];createjs.Tween.get(g[0],{override:!0}).to({x:0,y:0},y),createjs.Tween.get(g[1],{override:!0}).to({x:g[1].width/2+3,y:g[1].height/2+3},y)}}function v(){for(var e=void 0,t="H",i=0;i<f.length;i++)f[i].type===t&&(e=f[i]);for(var o=e.H2O,n=o.length,a=0;n>a;a++){for(var d=o[a],r=d.O,h=0;h<r.length;h++)createjs.Tween.get(r[h],{override:!0}).to({alpha:1},y/10);var g=d[t];createjs.Tween.get(g[0],{override:!0}).to({x:g[0].startX,y:g[0].startY},y/10),createjs.Tween.get(g[1],{override:!0}).to({x:g[1].startX,y:g[1].startY},y/10)}}$(document).on("onStepChange",t);var l=$("#wrapper"),f=[],S=8,w=1,y=2e3;e(),Snap.load("assets/images/anim_01.svg",function(e){Snap("#svg-wrapper").append(e)})}();
